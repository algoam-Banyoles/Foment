let e=null;!function(){const r=document.querySelector("[data-install]");if(!r)return;const a=()=>{r.hidden=!0,r.disabled=!1};window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone?a():r.hidden=!0,window.addEventListener("beforeinstallprompt",a=>{a.preventDefault(),e=a,r.hidden=!1,r.disabled=!1}),r.addEventListener("click",async()=>{if(e){r.disabled=!0;try{e.prompt(),await e.userChoice}finally{e=null,a()}}}),window.addEventListener("appinstalled",()=>{e=null,a()})}(),"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{(await navigator.serviceWorker.register("./service-worker.js")).waiting?console.info("Service worker preparat per actualitzar."):console.info("Service worker registrat correctament.")}catch(e){console.error("No s'ha pogut registrar el service worker:",e)}});
//# sourceMappingURL=main.js.map
